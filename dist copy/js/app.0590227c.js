(function(){"use strict";var e={4079:function(e,t,n){var a=n(5130),o=n(6768),l=n(144),r=n(4232);const s=(0,l.Kh)({role:"User",name:""}),i={admin:"Administrador",user:"User"},u={viewDashboard:"viewDashboard",editSettings:"editSettings"},c={[i.admin]:[u.viewDashboard,u.editSettings],[i.user]:[]};function d(e){const t=c[s.role]||[];return t.includes(e)}const p=(0,l.Kh)({isLoading:!1});var v=n.p+"img/logo.373557a9.png";const f={width:"24",height:"25",viewBox:"0 0 24 25",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function g(e,t){return(0,o.uX)(),(0,o.CE)("svg",f,t[0]||(t[0]=[(0,o.Lk)("path",{d:"M6.02784 8.93701L10.8751 17.3325C11.4938 18.405 12.5063 18.405 13.1251 17.3325L17.9723 8.93626C18.5918 7.86376 18.0848 6.98776 16.8473 6.98776H7.15284C5.91534 6.98776 5.40834 7.86451 6.02784 8.93701Z",fill:"white"},null,-1)]))}var h=n(1241);const m={},w=(0,h.A)(m,[["render",g]]);var x=w;const b={class:"text-[#FCFCFC]"},C={class:"text-[#FCFCFC]"};var y=(0,o.pM)({__name:"PostCustom",props:{title:{type:String,required:!0},content:{type:String,required:!0},menu:{required:!1,default:!1,type:Boolean},isFunctional:{required:!1,default:!1,type:Boolean}},setup(e){return(t,n)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(["w-[232px] flex h-[93px] flex-col justify-between items-end rounded pt-4 pb-4 pr-3 pl-3",{"bg-gradient-to-r from-[#eb6b48] to-[#f58d71]":e.isFunctional,"bg-transparent":!e.isFunctional}])},[(0,o.Lk)("div",{class:(0,r.C4)(["flex w-full",{"justify-between":e.isFunctional,"justify-end":!e.isFunctional}])},[(0,o.Lk)("h5",b,(0,r.v_)(e.title),1),e.isFunctional?((0,o.uX)(),(0,o.Wv)(x,{key:0})):(0,o.Q3)("",!0)],2),(0,o.Lk)("h3",C,(0,r.v_)(e.content),1)],2))}});const F=y;var L=F;const k={class:"bg-[#FCFCFC] pb-12 p-6 w-[280px] h-[100vh] flex flex-col justify-between items-center"},E={class:"flex flex-col gap-[98px] items-center"},_={class:"flex flex-col gap-[120px] items-center"};var S=(0,o.pM)({__name:"SideBarView",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("div",k,[(0,o.Lk)("div",E,[t[1]||(t[1]=(0,o.Lk)("img",{src:v,alt:"logo"},null,-1)),(0,o.Lk)("div",_,[(0,o.bF)(L,{class:"shadow-custom-light",title:"Balance en CUP",content:"$ 900,000.00","is-functional":!0}),t[0]||(t[0]=(0,o.Lk)("div",{class:"flex flex-col gap-4 items-center"},null,-1))])]),t[2]||(t[2]=(0,o.Lk)("div",{class:"flex w-full justify-end"},[(0,o.Lk)("button",{class:"bg-transparent text-[#282828]"},"Cerrar sesion")],-1))]))}});const j=S;var R=j;const V={class:"fixed flex items-center justify-center z-50 top-0 left-0 w-[100vw] h-[100vh] bg-[rgba(0,0,0,0.5)]"};function U(e,t){return(0,o.uX)(),(0,o.CE)("div",V,t[0]||(t[0]=[(0,o.Lk)("ul",null,[(0,o.Lk)("li"),(0,o.Lk)("li"),(0,o.Lk)("li")],-1)]))}const X={},O=(0,h.A)(X,[["render",U],["__scopeId","data-v-85df582a"]]);var B=O;const K={class:"flex flex-col gap-[72px] p-6 h-[360px] bg-gradient-to-r from-[#eb6b48] to-[#f58d71]"},I={class:"h-[72px] flex justify-between w-full items-center"},M={class:"text-[#FCFCFC]"},A={class:"flex gap-12"};var D=(0,o.pM)({__name:"HeaderView",setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("header",K,[(0,o.Lk)("div",I,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"text-[#FCFCFC]"},"La Lisa",-1)),(0,o.Lk)("h6",M,(0,r.v_)((0,l.R1)(s).name),1)]),(0,o.Lk)("div",A,[(0,o.bF)(L,{title:"Tarjeta CUP",content:"$ 900,000.00"}),t[1]||(t[1]=(0,o.Lk)("div",{class:"h-full w-[2px] bg-[#FCFCFC]"},null,-1)),(0,o.bF)(L,{title:"CUP",content:"$ 900,000.00"}),t[2]||(t[2]=(0,o.Lk)("div",{class:"h-full w-[2px] bg-[#FCFCFC]"},null,-1)),(0,o.bF)(L,{title:"Tarjeta USD",content:"$ 900,000.00"}),t[3]||(t[3]=(0,o.Lk)("div",{class:"h-full w-[2px] bg-[#FCFCFC]"},null,-1)),(0,o.bF)(L,{title:"USD",content:"$ 900,000.00"})])]))}});const P=D;var T=P,q=n(1387),$=n(4373);const z={auth:{auth:"/auth",login:"/auth/login"}},Q=$.A.create({baseURL:"https://apidev.cewallet.org"});Q.interceptors.request.use((async e=>{const t=sessionStorage.getItem("Bearer");return t&&e.url!==z.auth.login&&(e.headers.Authorization=`Bearer ${t}`),e}),(e=>Promise.reject(e)));var W=Q;const H=(0,l.Kh)({isLoading:!1}),N="https://apidev.cewallet.org/auth/";class G{async login(e){H.isLoading=!0;try{const t=await W.post(N+"login",{username:e.name,password:e.password});if(t.data){const n=t.data.data;s.name=e.name,console.log(e.name),s.role=n.role,sessionStorage.setItem("Bearer",n.token),sessionStorage.setItem("Name",e.name)}return H.isLoading=!1,t.data}catch(t){throw console.error("Error during login:",t),H.isLoading=!1,t}}logout(){sessionStorage.clear()}async validationToken(){H.isLoading=!0;try{const e=await W.get(z.auth.auth);return H.isLoading=!1,e.data}catch(e){throw console.error("Error during validation:",e),H.isLoading=!1,e}}}var Z=new G;const J=async(e,t,n)=>{const a=e.meta.roles;s.role=sessionStorage.getItem("Role")||"User";try{const e=await Z.validationToken();if(!e)return void n({name:"login"});s.role=e.data.role,s.name=sessionStorage.getItem("Name")||"",a&&!a.includes(s.role)?n({name:"unauthorized"}):n()}catch(o){console.error("Error during token validation:",o),n({name:"login"})}};var Y=J;n(4114);const ee=["type","value","title"];var te=(0,o.pM)({__name:"InputCustom",props:{type:{required:!0,type:String},placeholder:{type:String},modelValue:{type:String},showError:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,a=(0,l.KR)(!0),s=(0,l.KR)(!1),i=t,u=e=>{const t=e.target;t&&i("update:modelValue",t.value)},c=()=>{s.value=!0},d=()=>{s.value=!1};return(0,o.wB)((()=>n.modelValue),(e=>{a.value=""===e})),(0,o.sV)((()=>{a.value=""===n.modelValue})),(t,n)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,r.C4)(["relative flex h-12 items-end border-b-[1px] border-b-[#282828] p-1 pl-2 transition-all",{"mb-5":e.showError,"mb-0":!e.showError}])},[(0,o.Lk)("span",{class:(0,r.C4)([{"-translate-x-2 -translate-y-6 scale-90":!a.value||s.value,"translate-x-0 translate-y-0 scale-100":a.value&&!s.value},"pointer-events-none absolute text-sm text-[#6E6E6E] transition-all"])},(0,r.v_)(e.placeholder),3),(0,o.Lk)("input",{class:"w-full bg-transparent text-[14px] focus:outline-none",type:e.type,value:e.modelValue,onInput:u,onFocus:c,onBlur:d,title:e.modelValue},null,40,ee),e.showError?((0,o.uX)(),(0,o.CE)("span",{key:0,class:(0,r.C4)(["absolute text-sm text-red-600",{"translate-y-6 scale-100":e.showError,"translate-y-0 scale-0":!e.showError}])},"Este campo es requerido",2)):(0,o.Q3)("",!0)],2))}});const ne=te;var ae=ne;const oe={class:"flex h-[100vh] w-[100vw] items-center justify-center p-4 bg-[#f8f9fa]"},le={class:"flex flex-col gap-4"},re={class:"flex flex-col gap-2"},se={class:"flex flex-col gap-2"};var ie=(0,o.pM)({__name:"LoginView",setup(e){const t=(0,l.KR)(""),n=(0,l.KR)(!1),s=(0,l.KR)(""),i=(0,l.KR)(!1),u=(0,l.KR)(!1),c=async()=>{if(u.value=!1,d())try{const e={name:t.value,password:s.value};await Z.login(e),console.log("Login successful"),ye.push("/home")}catch(e){u.value=!0,console.error("Login failed:",e)}};function d(){return n.value=!1,i.value=!1,""===t.value&&(n.value=!0),""===s.value&&(i.value=!0),!n.value&&!i.value}return(e,l)=>((0,o.uX)(),(0,o.CE)("div",oe,[(0,o.Lk)("form",{onSubmit:(0,a.D$)(c,["prevent"]),class:"flex w-[360px] flex-col gap-6 bg-white p-12 shadow-custom-shadow",autocomplete:"off"},[l[3]||(l[3]=(0,o.Lk)("h2",{class:"text-xl text-[#F58D71]"},"Iniciar Sesión",-1)),(0,o.Lk)("div",le,[(0,o.Lk)("div",re,[(0,o.bF)(ae,{modelValue:t.value,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value=e),type:"text",placeholder:"Usuario","show-error":n.value},null,8,["modelValue","show-error"]),(0,o.bF)(ae,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=e=>s.value=e),type:"password",placeholder:"Contraseña","show-error":i.value},null,8,["modelValue","show-error"])]),(0,o.Lk)("div",se,[(0,o.Lk)("span",{class:(0,r.C4)(["text-sm text-red-600 transition-all",{"scale-100":u.value,"scale-0":!u.value}])},"Usuario o contraseña incorrecto",2),l[2]||(l[2]=(0,o.Lk)("button",{type:"submit",class:"w-full"},"Iniciar",-1))])])],32)]))}});const ue=ie;var ce=ue;const de={class:"bg-[#F0F0F0] flex flex-1 pl-8 pr-8 pb-14 pt-14 gap-12"};function pe(e,t){return(0,o.uX)(),(0,o.CE)("div",de,t[0]||(t[0]=[(0,o.Lk)("div",{class:"shadow-custom-gray flex w-[304px] bg-[#FCFCFC] rounded-sm"},null,-1),(0,o.Lk)("div",{class:"shadow-custom-gray flex flex-1 bg-[#FCFCFC] rounded-sm"},null,-1),(0,o.Lk)("div",{class:"shadow-custom-gray flex w-[400px] bg-[#FCFCFC] rounded-sm"},null,-1)]))}const ve={},fe=(0,h.A)(ve,[["render",pe]]);var ge=fe;function he(e,t){return(0,o.uX)(),(0,o.CE)("h1",null,"Unauthorized")}const me={},we=(0,h.A)(me,[["render",he]]);var xe=we;const be=[{path:"/",name:"login",component:ce,beforeEnter:()=>{sessionStorage.clear(),s.role="User",s.name=""}},{path:"/unauthorized",name:"unauthorized",component:xe},{path:"/home",name:"home",component:ge,meta:{roles:i.admin},beforeEnter:Y}],Ce=(0,q.aE)({history:(0,q.LA)("/cewallet-render-client/"),routes:be});var ye=Ce;const Fe={class:"flex w-[100vw] h-[100vh] relative bg-[#f8f9fa]"};var Le=(0,o.pM)({__name:"App",setup(e){(0,o.wB)((()=>ye.currentRoute.value.name),(e=>{t.value="login"===e}));const t=(0,l.KR)("login"==ye.currentRoute.value.name);return(e,n)=>{const s=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bo)((0,o.bF)(B,null,null,512),[[a.aG,(0,l.R1)(p).isLoading]]),(0,o.Lk)("div",Fe,[(0,l.R1)(d)((0,l.R1)(u).viewDashboard)&&!t.value?((0,o.uX)(),(0,o.Wv)(R,{key:0,class:"absolute top-0 left-0"})):(0,o.Q3)("",!0),(0,o.Lk)("div",{class:(0,r.C4)(["flex flex-col w-full pl-0",{"pl-[280px]":!t.value,"pl-0":t.value}])},[(0,l.R1)(d)((0,l.R1)(u).viewDashboard)&&!t.value?((0,o.uX)(),(0,o.Wv)(T,{key:0})):(0,o.Q3)("",!0),(0,o.bF)(s)],2)])],64)}}});const ke=Le;var Ee=ke;const _e=(0,a.Ef)(Ee);_e.use(ye).mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var l=t[a]={exports:{}};return e[a].call(l.exports,l,l.exports,n),l.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,l){if(!a){var r=1/0;for(c=0;c<e.length;c++){a=e[c][0],o=e[c][1],l=e[c][2];for(var s=!0,i=0;i<a.length;i++)(!1&l||r>=l)&&Object.keys(n.O).every((function(e){return n.O[e](a[i])}))?a.splice(i--,1):(s=!1,l<r&&(r=l));if(s){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[a,o,l]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/cewallet-render-client/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,l,r=a[0],s=a[1],i=a[2],u=0;if(r.some((function(t){return 0!==e[t]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(i)var c=i(n)}for(t&&t(a);u<r.length;u++)l=r[u],n.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return n.O(c)},a=self["webpackChunkce_wallet_client"]=self["webpackChunkce_wallet_client"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(4079)}));a=n.O(a)})();
//# sourceMappingURL=app.0590227c.js.map